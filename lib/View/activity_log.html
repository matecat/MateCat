<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Activity Log - MateCat</title>
    <meta name="description" content="MateCat allows you to get more matches than any other CAT tool."/>
    <meta name="viewport" content="width=device-width"/>
    <link href="${basepath}public/css/build/common.css?build=${build_number}" rel="stylesheet" type="text/css"/>
<!--    <link rel="stylesheet" href="${basepath}public/css/analyze_old.css?build=${build_number}"/>-->
    <link href="${basepath}public/css/build/semantic.css?build=${build_number}" rel="stylesheet" type="text/css" />
    <link href="${basepath}public/css/build/app.css?build=${build_number}" rel="stylesheet" type="text/css" />

    <script type="text/javascript" src="${basepath}public/js/build/libs.js?build=${build_number}"></script>
    <script type="text/javascript" src="${basepath}public/js/build/semantic.js?build=${build_number}"></script>
    <script type="text/javascript" src="${basepath}public/js/lib/jquery.tablesorter.js"></script>
    <script type="text/javascript" src="${basepath}public/js/lib/jquery.tablesorter.widgets.js"></script>

    <script src="${basepath}public/js/build/react.js?build=${build_number}"></script>
    <script src="${basepath}public/js/build/cat-react.js?build=${build_number}"></script>
    <script type="text/javascript" src="${basepath}public/js/build/common.js?build=${build_number}"></script>
</head>
<body class="activity-log-page">
<header>
    <div class="wrapper">

        <div class="logo-menu">
            <a href="${basepath}" class="logo">
            </a>
        </div> <!-- .logo-menu -->

<!--        <div class="profile-menu">-->
<!--            <div class="column-separator"></div>-->
<!--            <div tal:condition="isLoggedIn" title="Manage" id="action-manage">-->
<!--                <a href="/manage" class="action-submenu" >-->
<!--                    <svg width="36px" height="36px" viewBox="0 0 42 42" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">-->
<!--                        <defs>-->
<!--                            <polygon id="path-1" points="0 -0.0002 21 -0.0002 21 21 0 21"/>-->
<!--                            <polygon id="path-3" points="0 0.323 3.9997 0.323 3.9997 4.3226 0 4.3226"/>-->
<!--                            <polygon id="path-5" points="0 0.1166 3.9997 0.1166 3.9997 4.1166 0 4.1166"/>-->
<!--                            <polygon id="path-7" points="0 0.0004 3.9997 0.0004 3.9997 4.0004 0 4.0004"/>-->
<!--                        </defs>-->
<!--                        <g id="icon-manage" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">-->
<!--                            <g id="Group-19" transform="translate(2.000000, 9.000000)">-->
<!--                                <path d="M22.5,9.7771 C22.5,9.1771 22.1,8.7771 21.5,8.7771 L9,8.7771 C8.4,8.7771 8,9.1771 8,9.7771 C8,10.3771 8.4,10.7771 9,10.7771 L21.5,10.7771 C22.1,10.7771 22.5,10.3771 22.5,9.7771" id="Fill-1" fill="#FFFFFF"/>-->
<!--                                <path d="M9,3.6775 L23,3.6775 C23.6,3.6775 24,3.2775 24,2.6775 C24,2.0765 23.6,1.6775 23,1.6775 L9,1.6775 C8.4,1.6775 8,2.0765 8,2.6775 C8,3.2775 8.4,3.6775 9,3.6775" id="Fill-3" fill="#FFFFFF"/>-->
<!--                                <path d="M9,15.6775 C8.4,15.6775 8,16.0765 8,16.6775 C8,17.2775 8.4,17.6775 9,17.6775 L15,17.6775 C15.6,17.6775 16,17.2775 16,16.6775 C16,16.0765 15.6,15.6775 15,15.6775 L9,15.6775 Z" id="Fill-5" fill="#FFFFFF"/>-->
<!--                                <g id="Group-9" transform="translate(17.000000, 2.677100)">-->
<!--                                    <mask id="mask-2" fill="white">-->
<!--                                        <use xlink:href="#path-1"></use>-->
<!--                                    </mask>-->
<!--                                    <g id="Clip-8"></g>-->
<!--                                    <path d="M2,17.3998 L17,2.3998 L18.6,4.0008 L3.6,19.0008 L2,19.0008 L2,17.3998 Z M1,21.0008 L4,21.0008 C4.3,21.0008 4.5,20.8998 4.7,20.6998 L20.7,4.6998 C21.1,4.2998 21.1,3.6998 20.7,3.2998 L17.7,0.2998 C17.3,-0.1002 16.7,-0.1002 16.3,0.2998 L0.3,16.2998 C0.1,16.5008 0,16.6998 0,17.0008 L0,20.0008 C0,20.5998 0.4,21.0008 1,21.0008 L1,21.0008 Z" id="Fill-7" fill="#FFFFFF" mask="url(#mask-2)"></path>-->
<!--                                </g>-->
<!--                                <g id="Group-12" transform="translate(0.000000, 0.677100)">-->
<!--                                    <mask id="mask-4" fill="white">-->
<!--                                        <use xlink:href="#path-3"></use>-->
<!--                                    </mask>-->
<!--                                    <g id="Clip-11"></g>-->
<!--                                    <path d="M1.0347,4.3226 L2.9657,4.3226 C3.5367,4.3226 3.9997,3.8596 3.9997,3.2886 L3.9997,1.3576 C3.9997,0.7856 3.5367,0.3226 2.9657,0.3226 L1.0347,0.3226 C0.4637,0.3226 -0.0003,0.7856 -0.0003,1.3576 L-0.0003,3.2886 C-0.0003,3.8596 0.4637,4.3226 1.0347,4.3226" id="Fill-10" fill="#FFFFFF" mask="url(#mask-4)"></path>-->
<!--                                </g>-->
<!--                                <g id="Group-15" transform="translate(0.000000, 7.677100)">-->
<!--                                    <mask id="mask-6" fill="white">-->
<!--                                        <use xlink:href="#path-5"></use>-->
<!--                                    </mask>-->
<!--                                    <g id="Clip-14"></g>-->
<!--                                    <path d="M1.0347,4.1166 L2.9657,4.1166 C3.5367,4.1166 3.9997,3.6536 3.9997,3.0826 L3.9997,1.1506 C3.9997,0.5796 3.5367,0.1166 2.9657,0.1166 L1.0347,0.1166 C0.4637,0.1166 -0.0003,0.5796 -0.0003,1.1506 L-0.0003,3.0826 C-0.0003,3.6536 0.4637,4.1166 1.0347,4.1166" id="Fill-13" fill="#FFFFFF" mask="url(#mask-6)"></path>-->
<!--                                </g>-->
<!--                                <g id="Group-18" transform="translate(0.000000, 14.677100)">-->
<!--                                    <mask id="mask-8" fill="white">-->
<!--                                        <use xlink:href="#path-7"></use>-->
<!--                                    </mask>-->
<!--                                    <g id="Clip-17"></g>-->
<!--                                    <path d="M1.0347,4.0004 L2.9657,4.0004 C3.5367,4.0004 3.9997,3.5364 3.9997,2.9654 L3.9997,1.0344 C3.9997,0.4634 3.5367,0.0004 2.9657,0.0004 L1.0347,0.0004 C0.4637,0.0004 -0.0003,0.4634 -0.0003,1.0344 L-0.0003,2.9654 C-0.0003,3.5364 0.4637,4.0004 1.0347,4.0004" id="Fill-16" fill="#FFFFFF" mask="url(#mask-8)"></path>-->
<!--                                </g>-->
<!--                            </g>-->
<!--                        </g>-->
<!--                    </svg>-->
<!--                </a>-->
<!--            </div>-->
<!--            <div metal:use-macro="common.html/login_includes" />-->
<!--        </div> &lt;!&ndash; .profile-menu &ndash;&gt;-->

    </div>
</header>

<div class="activity-log-container">
<h1>Activity Log</h1>
    <h1 id="pid">
        Project: ${projectID} - ${projectName}
    </h1>

    <div tal:define="activity php:array()" tal:repeat="jobActivity outputContent" class="activity-log-entry">

        <h3>Project Related Activities:</h3>
        <div class="search-container">
            <span class="search-label">Search:</span>
            <input class="search" type="search" data-column="all" placeholder="Search" />
        </div>
        <table id="activity-log" class="activitylog tablesorter" width="100%" border="0" cellspacing="0" cellpadding="0">
            <thead>
            <tr>
                <th><div class="th-inner"><span>User IP</span></div></th>
                <th><div class="th-inner"><span>Event Date</span></div></th>
                <th><div class="th-inner"><span>Project ID</span></div></th>
                <th><div class="th-inner"><span>Job ID</span></div></th>
                <th><div class="th-inner"><span>Language Pair</span></div></th>
                <th><div class="th-inner"><span>User Name</span></div></th>
                <th><div class="th-inner"><span>User Email</span></div></th>
                <th><div class="th-inner"><span>Action</span></div></th>
            </tr>
            </thead>
            <tbody>
            <tr tal:define="activity php:array()" tal:repeat="activity jobActivity">
                <td tal:content="activity/ip | default">Unknown</td>
                <td tal:content="activity/event_date | default">Unkwnown</td>
                <td tal:content="activity/id_project | default">-</td>
                <td tal:content="activity/id_job | default">-</td>
                <td tal:content="activity/lang_pairs | default">-</td>
                <td tal:content="activity/name | default">Unknown</td>
                <td tal:content="activity/email | default">Unkwnown</td>
                <td tal:content="activity/action | default">Unkwnown</td>
            </tr>
            </tbody>

        </table>
    </div>


</div>


<div metal:use-macro="common.html/footer_includes" />

<div metal:use-macro="cookiebanner.html/cookieBanner"/>

<script type="text/javascript">
    $(function() {

                var table_sorter = $("#activity-log").tablesorter({
                    widgets: ["filter"],
                    widgetOptions : {
                        // use the filter_external option OR use bindSearch function (below)
                        // to bind external filters.
                        // filter_external : '.search',
                        filter_columnFilters: false,
                        filter_saveFilters : true,
                        filter_reset: '.reset',
                        filter_external: '.search'
                    }
                });

                var profile_drodown =  $('#user-menu-dropdown').dropdown();

                var profile_modal = $('#profile-item').on('click', function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    $('#modal').trigger('openpreferences');
                    return false;
                });

                var logout_action = $('.user-menu-container').on('click', '#logout-item', function (e) {
                    e.preventDefault();
                    $.post('/api/app/user/logout', function (data) {
                        if ($('body').hasClass('manage')) {
                            location.href = config.hostpath + config.basepath;
                        } else {
                            window.location.reload();
                        }
                    });
                });

            }
    );
    $( window ).resize(function() {
        APP.fitText($('#pid'), $('#pid'), 70);
    });
</script>

<div metal:use-macro="${php: INIT::$TRACKING_CODES_VIEW_PATH}/external_sources.html/track_codes_analyze"/>

<div id="modal" style="z-index: 999999999"></div>
<script type="text/javascript" id="hs-script-loader" src="//js.hs-scripts.com/5642498.js"></script>
</body>
</html>
