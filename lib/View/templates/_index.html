<!doctype html>
<html dir="ltr" lang="it-IT">
    <!-- MateCAT Server : Release 0.21a - 2012-10-22 -->
    <head>
        <div metal:use-macro="${php: INIT::$TRACKING_CODES_VIEW_PATH}/CSP-HeaderMeta.html/CSP_NONCE"/>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta property="og:title" content="Translate a file with Matecat" />
        <meta property="og:description" content="Matecat is a free, online and open source software that gives you more matches than any other CAT tool. Use it now!" />
        <meta property="og:url" content="https://www.matecat.com" />
        <meta property="og:image" content="https://www.matecat.com/public/img/fbimg.png" />
        <title tal:content="pageTitle">Page Title</title>
        <link rel="apple-touch-icon" sizes="180x180" href="${basepath}public/img/meta/apple-touch-icon.png"/>
        <link rel="icon" type="image/png" sizes="32x32" href="${basepath}public/img/meta/favicon-32x32.svg"/>
        <link rel="icon" type="image/png" sizes="16x16" href="${basepath}public/img/meta/favicon-16x16.svg"/>

        <tal:block metal:use-macro="${php: INIT::$TRACKING_CODES_VIEW_PATH}/external_sources.html/header_common"/>
        <script tal:attributes="nonce x_nonce_unique_id" type="text/javascript">
            /*<![CDATA[*/

            var getStackTrace = function() {
              var obj = {};
              var stack;
              //Error.captureStackTrace works on Firefox and Chrome
              //the else for Safari
              if (typeof Error.captureStackTrace === "function")
                  Error.captureStackTrace(obj, getStackTrace);
              else if (stack = new Error().stack)
                  obj.stack = stack;
              return obj.stack;
            };
            var config = {
                job_is_splitted: ${job_is_splitted | string:false},
                is_cattool : true,
                basepath: '${basepath | string:/}',
                isOpenAiEnabled: ${isOpenAiEnabled},
                maxFileSize: ${maxFileSize},
                maxTMXFileSize: ${maxTMXFileSize},
                first_job_segment: '${first_job_segment}',
                server_load_time: '${load_time}',
                tms_enabled: ${tms_enabled | string:true},
                mt_enabled: ${mt_enabled | string:true},
                id_job: '${jid}',
                id_project: '${pid}',
                allow_link_to_analysis: '${allow_link_to_analysis}',
                analysis_enabled: '${analysis_enabled}',
                not_empty_default_tm_key: ${not_empty_default_tm_key|string:false},
                footer_show_revise_link: ${footer_show_revise_link || string: false},
                intento_providers: JSON.parse(String.raw`${php: json_encode(translation_engines_intento_providers)}`),
                get job_id() {
                  console.info('job_id is deprecated, use id_job instead', getStackTrace().split("\n")[2]);
                  return this.id_job ;
                },
                password: '${password}',
                currentPassword: '${currentPassword}',
                source_rfc: '${source_code}',
                target_rfc: '${target_code}',
                source_code: '${source_code}',
                target_code: '${target_code}',
                targetIsCJK: ${targetIsCJK|string:false},
                ownerIsMe: ${jobOwnerIsMe},
                id_team: ${id_team | string:null},
                team_name: '${team_name | string:null}',
                build_number: '${build_number}',
                warningPollingInterval: '${warningPollingInterval}',
                segmentQACheckInterval: '${segmentQACheckInterval}',
                alternativesEnabled: true,
                isReview: ${isReview | string: false},
                user_plugins: JSON.parse( '${ php: json_encode(user_plugins)}'),
                project_plugins: JSON.parse( '${ php: json_encode(project_plugins)}'),
                offlineModeEnabled: true,
                splitSegmentEnabled: ${splitSegmentEnabled},
                project_completion_feature_enabled : ${project_completion_feature_enabled | 'false'},
                mark_as_complete_button_enabled : ${mark_as_complete_button_enabled | 'false'},
                status_labels : JSON.parse( '${status_labels}' ),
                searchable_statuses : JSON.parse( '${ php: json_encode(searchable_statuses)}'),
                active_engine: JSON.parse(String.raw`${php: json_encode(active_engine)}`),
                isGDriveProject : ${isGDriveProject|string:false},
                translation_matches_enabled : ${translation_matches_enabled} ,
                isCJK: ${isCJK},
                isAnInternalUser: ${php: var_export( !empty( isAnInternalUser ), true )},
                isTargetRTL: ${isTargetRTL},
                isSourceRTL: ${isSourceRTL},
                /**
                 * We proose that lxq_server is in a configuration file
                 * lxq_license: {lxq_license},
                 *
                 * THIS SHOULD BE YOUR LEXIQA LICENSE, Request your license key at
                 * @see http://www.lexiqa.net
                 *
                */
                lxq_license: '${lxq_license | string:}',
                lxq_partnerid: '${lxq_partnerid | string:}',
                lexiqa_languages: ${lexiqa_languages | string:[]},
                lexiqaServer: '${lexiqaServer | string:}',

                support_mail : '${support_mail}',
                tag_projection_languages: ${tag_projection_languages},
                segmentation_rule : '${segmentation_rule}',
                segmentFilterEnabled: true,
                enableMultiDomainApi: ${enableMultiDomainApi | string:false},
                ajaxDomainsNumber: ${ajaxDomainsNumber | string:false},
                revisionNumber : ${revisionNumber | string:null},
                secondRevisionsCount : ${ secondRevisionsCount | string: 0},
                project_name: '${pname | string: 0}',
                review_password: '${review_password}',
                show_tag_projection: ${show_tag_projection | string: false},
                get_public_matches: ${get_public_matches | string: false},
                word_count_type: '${word_count_type}'
            };

            var renderStart = new Date();
            /*]]>*/
        </script>

        <script tal:attributes="nonce x_nonce_unique_id" tal:condition="true:review_extended" type="text/javascript">

          /*<![CDATA[*/
          // TODO: remove the nested one, should be nested on the client.
          config.lqa_nested_categories = '${lqa_categories}';
          config.lqa_flat_categories = '${lqa_flat_categories}';
          /*]]>*/

        </script>

        <script tal:attributes="nonce x_nonce_unique_id" type="text/javascript">
            /*<![CDATA[*/
            config.overall_quality_class = '${overall_quality_class}';
            config.quality_report_href = '${quality_report_href}';
            /*]]>*/

        </script>

        <script tal:attributes="nonce x_nonce_unique_id" tal:condition="true:comments_enabled" type="text/javascript">
          /*<![CDATA[*/
          config.comments_enabled = true;
          config.socket_base_url = '${socket_base_url}';
          /*]]>*/
        </script>

        <script tal:attributes="nonce x_nonce_unique_id" tal:condition="true:project_completion_feature_enabled" type="text/javascript">
            /*<![CDATA[*/
            config.job_marked_complete = ${job_marked_complete|false};
            config.job_completion_current_phase = '${job_completion_current_phase}' ;
            config.last_completion_event_id = ${job_completion_last_event_id|string: null};
            config.chunk_completion_undoable = ${chunk_completion_undoable};
            /*]]>*/
        </script>

        <script tal:attributes="nonce x_nonce_unique_id" tal:condition="true:brPlaceholdEnabled" type="text/javascript">
            /*<![CDATA[*/
            config.lfPlaceholder = '${lfPlaceholder | null}';
            config.crPlaceholder = '${crPlaceholder | null}';
            config.crlfPlaceholder = '${crlfPlaceholder | null}';
            config.lfPlaceholderClass = '${lfPlaceholderClass | null}';
            config.crPlaceholderClass = '${crPlaceholderClass | null}';
            config.crlfPlaceholderClass = '${crlfPlaceholderClass | null}';
            config.lfPlaceholderRegex = ${lfPlaceholderRegex | null};
            config.crPlaceholderRegex = ${crPlaceholderRegex | null};
            config.crlfPlaceholderRegex = ${crlfPlaceholderRegex | null};

            config.tabPlaceholder       = '${tabPlaceholder | null}';
            config.tabPlaceholderClass  = '${tabPlaceholderClass | null}';
            config.tabPlaceholderRegex  = ${tabPlaceholderRegex | null};

            config.nbspPlaceholder       = '${nbspPlaceholder | null}';
            config.nbspPlaceholderClass  = '${nbspPlaceholderClass | null}';
            config.nbspPlaceholderRegex  = ${nbspPlaceholderRegex | null};
            /*]]>*/
        </script>

        <script type="text/javascript" src="${basepath}public/build/libs.js?build=${build_number}"></script>

    </head>

    <body class="cattool ${job_archived}${source_rtl}${target_rtl}" tal:condition="php: !job_not_found && !job_cancelled && !job_archived">
        <div class="page-content"></div>
        <tal:block metal:use-macro="templates/common.html/footer_includes" />
        <tal:block metal:use-macro="${php: INIT::$TRACKING_CODES_VIEW_PATH}/external_sources.html/track_codes_translate"/>
        <!--Container for Matecat Notifications-->
        <div class="notifications-wrapper"></div>
    </body>

</html>
